<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Activities</title>
  <link rel="stylesheet" href="/styles/tokens.css" />
  <link rel="stylesheet" href="/styles/page.css" />
</head>
<body>
  <header>
    <h1>Activities</h1>
  </header>

  <div style="padding: 1rem;">
    <label>
      <input id="darkModeToggle" type="checkbox" autocomplete="off" />
      Dark mode
    </label>
  </div>

  <main>
    <ul>
      <li>Hiking</li>
      <li>Camping</li>
      <li>Stargazing</li>
    </ul>
  </main>

  <script type="module">
    const label = document.querySelector('label');
    label.onchange = (event) => {
      event.stopPropagation();
      const isDark = event.target.checked;
      label.dispatchEvent(new CustomEvent("darkmode:toggle", {
        bubbles: true,
        detail: { checked: isDark }
      }));
    };

    document.body.addEventListener("darkmode:toggle", (event) => {
      if (event.detail.checked) {
        document.body.classList.add("dark-mode");
      } else {
        document.body.classList.remove("dark-mode");
      }
    });
  </script>
</body>
</html>
