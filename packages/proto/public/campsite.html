<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Campsite</title>
    <link rel="stylesheet" href="/styles/tokens.css" />
    <link rel="stylesheet" href="/styles/page.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,700;1,400&family=Playfair+Display:wght@700&display=swap"
      rel="stylesheet"
    />
    <script type="module">
      import "./src/site-campsites.ts";
      import "./src/site-campsite.ts";
    </script>
  </head>
  <body>
    <header>
      <h1>Campsite</h1>
    </header>

    <div style="padding: 1rem;">
      <label>
        <input id="darkModeToggle" type="checkbox" autocomplete="off" />
        Dark mode
      </label>
    </div>

    <div class="page-wrapper">
      <a
        href="/"
        style="
          display: inline-block;
          margin: 1rem 0;
          padding: 0.5rem 1rem;
          background-color: var(--color-accent);
          color: white;
          text-decoration: none;
          border-radius: 6px;
        "
      >
        ← Back to Home
      </a>

      <main>
        <site-campsites src="/data/campsites.json">
          <p>Loading campsites…</p>
        </site-campsites>
      </main>
    </div>

    <script type="module">
      const label = document.querySelector("label");
      label.onchange = (event) => {
        event.stopPropagation();
        const isDark = event.target.checked;
        label.dispatchEvent(
          new CustomEvent("darkmode:toggle", {
            bubbles: true,
            detail: { checked: isDark },
          })
        );
      };

      document.body.addEventListener("darkmode:toggle", (event) => {
        if (event.detail.checked) {
          document.body.classList.add("dark-mode");
        } else {
          document.body.classList.remove("dark-mode");
        }
      });
    </script>
  </body>
</html>
