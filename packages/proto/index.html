<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Camping and Hiking</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,700;1,400&family=Playfair+Display:wght@700&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="/styles/reset.css" />
    <link rel="stylesheet" href="/styles/tokens.css" />
    <link rel="stylesheet" href="/styles/page.css" />
  </head>

  <body>
    <mu-auth provides="camping:auth">
      <header
        style="
          background-color: #263646;
          color: white;
          padding: 1rem;
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          border-radius: 0.5rem;
          margin-bottom: 1rem;
          gap: 0.5rem;
        "
      >
        <h1 style="font-family: 'Playfair Display', serif; font-size: 1.8rem; margin: 0;">
          Camping and Hiking
        </h1>
        <p style="margin: 0; font-size: 1rem;">
          Explore outdoor adventures in the San Luis Obispo area:
        </p>
        <label style="display: flex; align-items: center; gap: 0.4rem; font-size: 0.9rem;">
          <input id="darkModeToggle" type="checkbox" autocomplete="off" />
          Dark mode
        </label>
      </header>

      <div class="page-wrapper">
        <main>
          <img
            src="/images/mountainslo.webp"
            alt="Scenic San Luis Obispo Mountains"
            class="main-image"
          />

          <ul class="link-grid">
            <li><a href="campsite.html" class="link-card">Campsite</a></li>
            <li><a href="activities.html" class="link-card">Activities</a></li>
            <li><a href="trail.html" class="link-card">Trail</a></li>
            <li><a href="viewpoint.html" class="link-card">Viewpoint</a></li>
          </ul>
        </main>
      </div>
    </mu-auth>

    <!-- Mustang component registration -->
    <script type="module">
      import { define, Auth } from "@calpoly/mustang";

      define({
        "mu-auth": Auth.Provider
      });
    </script>

    <!-- Persistent Dark Mode Script -->
    <script type="module">
      const toggle = document.querySelector("#darkModeToggle");

      // Restore saved preference
      const saved = localStorage.getItem("dark-mode");
      if (saved === "true") {
        document.body.classList.add("dark-mode");
        toggle.checked = true;
      }

      // Toggle and save preference
      toggle.onchange = (event) => {
        const isDark = event.target.checked;
        localStorage.setItem("dark-mode", isDark);
        if (isDark) {
          document.body.classList.add("dark-mode");
        } else {
          document.body.classList.remove("dark-mode");
        }
      };
    </script>
  </body>
</html>
